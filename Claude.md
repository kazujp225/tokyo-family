# クロードMD - Tokyo Friends iOS App 仕様書マスターインデックス

## 文書情報
- **作成日**: 2025-10-20
- **対象**: Tokyo Friends iOS App (仮称)
- **バージョン**: v1.0 (MVP)
- **想定プラットフォーム**: iOS 16以上（推奨：iOS 17+）
- **ステータス**: 仕様確定（実装開始可）

---

## 1. 本文書の目的

本「クロードMD」は、Tokyo Friends iOSアプリ開発プロジェクトにおける**全仕様書の親ファイル**として機能します。

### 役割
1. **ナビゲーション**: 10個の仕様書（0.1〜0.10）への導線提供
2. **読み順ガイド**: 役割・フェーズ別の推奨読み順を明示
3. **更新手順**: 仕様変更時の更新プロセスを定義
4. **責務分担**: 開発・デザイン・QA・運用の役割分担を明確化
5. **完了合図**: 仕様書作成完了のマイルストーン記録

---

## 2. 仕様書ファイル一覧

| # | ファイル名 | 主な内容 | 担当 |
|---|---|---|---|
| 0.1 | `0.1_UI定義.md` | UIコンポーネント・状態・アクセシビリティ | デザイン・開発 |
| 0.2 | `0.2_UX定義.md` | UX原則・ジャーニーマップ・フロー・文言トーン | UXデザイン |
| 0.3 | `0.3_機能定義.md` | 全機能の詳細仕様（入力・処理・出力・エラー） | 開発・QA |
| 0.4 | `0.4_ページ定義.md` | 全画面の目的・入出口・UI構成・計測 | 開発・デザイン |
| 0.5 | `0.5_デザイン定義.md` | ビジュアル基調・トークン・コンポーネント・インタラクション | デザイン |
| 0.6 | `0.6_情報設計_データモデル.md` | エンティティ・フィールド・API契約・削除/エクスポート | 開発・データ |
| 0.7 | `0.7_アーキテクチャ_状態管理.md` | レイヤー構成・通信戦略・状態管理・セキュリティ実装 | 開発・アーキテクト |
| 0.8 | `0.8_非機能_セキュリティ_性能.md` | パフォーマンス・セキュリティ・プライバシー・法令順守 | 開発・QA・セキュリティ |
| 0.9 | `0.9_テスト_受け入れ基準.md` | テスト項目・受け入れ基準・自動化スコープ | QA・開発 |
| 0.10 | `0.10_運用_分析_配信_法務.md` | KPI・モデレーション・リリース計画・法務対応 | 運用・分析・法務 |

---

## 3. 推奨読み順

### 3.1 役割別ガイド

#### デザイナー向け
1. **0.2 UX定義** ← UX原則・ジャーニーマップ
2. **0.5 デザイン定義** ← ビジュアル基調・トークン
3. **0.1 UI定義** ← コンポーネント詳細
4. **0.4 ページ定義** ← 画面別仕様

#### 開発者（iOS）向け
1. **0.3 機能定義** ← 全機能の実装仕様
2. **0.6 情報設計・データモデル** ← エンティティ・API
3. **0.7 アーキテクチャ・状態管理** ← レイヤー構成・通信
4. **0.8 非機能・セキュリティ・性能** ← NFR詳細
5. **0.1 UI定義** / **0.4 ページ定義** ← UI実装詳細

#### QA向け
1. **0.3 機能定義** ← 全機能の期待動作
2. **0.9 テスト・受け入れ基準** ← テスト項目・AC
3. **0.8 非機能・セキュリティ・性能** ← 性能目標・セキュリティ検証
4. **0.4 ページ定義** ← 画面別受け入れ基準

#### プロダクトマネージャー向け
1. **0.2 UX定義** ← UX原則・KPI
2. **0.3 機能定義** ← 全機能スコープ
3. **0.10 運用・分析・配信・法務** ← リリース計画・KPI
4. **0.9 テスト・受け入れ基準** ← リリース判定基準

---

### 3.2 フェーズ別ガイド

#### Phase 1: 企画・設計
- `0.2 UX定義` → `0.3 機能定義` → `0.5 デザイン定義`

#### Phase 2: 設計詳細化
- `0.1 UI定義` → `0.4 ページ定義` → `0.6 情報設計・データモデル` → `0.7 アーキテクチャ・状態管理`

#### Phase 3: 実装・テスト
- `0.3 機能定義` → `0.7 アーキテクチャ・状態管理` → `0.9 テスト・受け入れ基準`

#### Phase 4: リリース準備
- `0.8 非機能・セキュリティ・性能` → `0.9 テスト・受け入れ基準` → `0.10 運用・分析・配信・法務`

---

## 4. 更新手順

### 4.1 仕様変更時のプロセス

1. **変更要求**:
   - GitHub Issue / Notion / Slack等で変更内容を文書化
   - 影響範囲を特定（どの仕様書に影響するか）

2. **仕様書更新**:
   - 該当ファイル（0.1〜0.10）を編集
   - 「更新履歴」セクションに変更内容・日付・担当を記録

3. **横断整合性チェック**:
   - 関連ファイルの整合性を確認（例: UI定義を変更したら、ページ定義も更新）
   - Plan-MD参照マップで原典との整合性を確認

4. **レビュー**:
   - 開発・デザイン・QA・PMでレビュー
   - 承認後、Gitコミット（コミットメッセージに変更内容を明記）

5. **周知**:
   - Slack / 定例会で変更内容を共有
   - 該当する実装チケットを更新

---

### 4.2 バージョン管理

| バージョン | 日付 | 変更内容 | ステータス |
|---|---|---|---|
| v1.0 | 2025-10-20 | 初版作成（MVP仕様確定） | 確定 |
| v1.1 | TBD | フィードバック反映 | 予定 |

---

## 5. 責務分担

### 5.1 役割別オーナーシップ

| 仕様書 | 主担当 | 副担当 | 更新頻度 |
|---|---|---|---|
| 0.1 UI定義 | デザイン | 開発 | 低（確定後は安定） |
| 0.2 UX定義 | UXデザイン | PM | 低 |
| 0.3 機能定義 | 開発 | QA | 中（機能追加時） |
| 0.4 ページ定義 | 開発 | デザイン | 中 |
| 0.5 デザイン定義 | デザイン | - | 低 |
| 0.6 情報設計・データモデル | 開発（データ） | バックエンド | 中 |
| 0.7 アーキテクチャ・状態管理 | 開発（アーキテクト） | - | 低 |
| 0.8 非機能・セキュリティ・性能 | 開発・QA | セキュリティ | 低 |
| 0.9 テスト・受け入れ基準 | QA | 開発 | 中（テスト項目追加時） |
| 0.10 運用・分析・配信・法務 | 運用 | PM・法務 | 高（リリース後） |

---

### 5.2 レビュー体制

| レビュータイプ | 対象ファイル | レビュアー | タイミング |
|---|---|---|---|
| **デザインレビュー** | 0.1 / 0.2 / 0.5 | デザインチーム全員 | 初版・大幅変更時 |
| **技術レビュー** | 0.6 / 0.7 / 0.8 | 開発チーム全員 | 初版・大幅変更時 |
| **QAレビュー** | 0.9 | QA・開発 | テスト項目追加時 |
| **PMレビュー** | 全ファイル | PM | 初版・機能追加時 |

---

## 6. ドキュメント運用ルール

### 6.1 編集ルール

1. **マークダウン準拠**: GitHub Flavored Markdown（GFM）
2. **日本語文体**: 丁寧語・体言止め混在OK（一貫性優先）
3. **コード例禁止**: 本仕様書群はコード記述なし（言語化ベース）
4. **参照明記**: 【MAT参照：<章/項>】で原典（plan.md）追跡可能に

### 6.2 禁止事項

- コード例の記述（仕様書は言語化のみ）
- 曖昧な表現（「なるべく」「適宜」等は具体的な数値・条件に置換）
- PII（個人識別情報）の記載（例示でもダミーデータ使用）

### 6.3 推奨事項

- 表形式での整理（読みやすさ）
- 箇条書き・見出し階層の活用
- 計測可能な表現（例: 「速い」→「1秒以内」）

---

## 7. よくある質問（FAQ）

### Q1: 仕様書の優先順位は？
**A**: すべて同等に重要です。ただし、実装フェーズでは以下の順で参照頻度が高まります。
- 開発初期: 0.3 機能定義 / 0.6 データモデル / 0.7 アーキテクチャ
- 開発中期: 0.1 UI定義 / 0.4 ページ定義
- 開発後期: 0.8 非機能 / 0.9 テスト
- リリース前後: 0.10 運用

### Q2: 原典（plan.md）と仕様書の関係は？
**A**: plan.mdは「元の要件定義」、0.1〜0.10は「詳細化・構造化した仕様書」です。
- 仕様書は plan.md を補完し、実装可能な粒度に詳細化
- 【MAT参照】で原典追跡可能
- plan.md が更新されたら、該当仕様書も更新

### Q3: 仕様変更時の影響範囲は？
**A**: 以下の依存関係を確認してください。
- UI変更 → 0.1 UI定義 + 0.4 ページ定義
- 機能追加 → 0.3 機能定義 + 0.6 データモデル + 0.9 テスト
- デザイン変更 → 0.5 デザイン定義 + 0.1 UI定義
- 性能要件変更 → 0.8 非機能 + 0.9 テスト

### Q4: 実装中に仕様が不明確な場合は?
**A**:
1. 該当ファイルの「受け入れ基準（AC）」セクションを確認
2. 不明確な場合は Slack / Issue で質問
3. 回答を受けて仕様書を更新（将来の参照者のため）

---

## 8. 完了合図

### 8.1 仕様書作成マイルストーン

| マイルストーン | 日付 | ステータス |
|---|---|---|
| **M1: plan.md完成** | 2025-10-20 | ✅ 完了 |
| **M2: 仕様書10個作成** | 2025-10-20 | ✅ 完了 |
| **M3: クロードMD作成** | 2025-10-20 | ✅ 完了 |
| **M4: レビュー完了** | TBD | 🔜 次 |
| **M5: 実装開始** | TBD | 予定 |

---

### 8.2 仕様書作成完了チェックリスト

- [x] 0.1_UI定義.md 作成完了
- [x] 0.2_UX定義.md 作成完了
- [x] 0.3_機能定義.md 作成完了
- [x] 0.4_ページ定義.md 作成完了
- [x] 0.5_デザイン定義.md 作成完了
- [x] 0.6_情報設計_データモデル.md 作成完了
- [x] 0.7_アーキテクチャ_状態管理.md 作成完了
- [x] 0.8_非機能_セキュリティ_性能.md 作成完了
- [x] 0.9_テスト_受け入れ基準.md 作成完了
- [x] 0.10_運用_分析_配信_法務.md 作成完了
- [x] クロードMD.md 作成完了
- [ ] 全ファイルレビュー完了（次フェーズ）
- [ ] 実装開始（次フェーズ）

---

## 9. 次のアクション

### 9.1 即座に実施すべきこと

1. **仕様書レビュー**: 開発・デザイン・QA・PMで全ファイルを精読
2. **Notion / Confluence へ移行**: Markdown → Notionページ化（オプション）
3. **実装チケット作成**: GitHub Issues / Jira でタスク分解

### 9.2 実装開始前の準備

1. **デザインモック作成**: Figmaで全画面モック（0.1 / 0.4 / 0.5 基準）
2. **テストケース詳細化**: 0.9 を基にExcel / TestRailへ展開
3. **環境構築**: Development / Staging環境の準備

---

## 10. 補足

### 10.1 ドキュメント配置

```
/tokyofamily
├── plan.md                                 ← 元の要件定義
├── クロードMD.md                           ← 本ファイル（親）
├── 0.1_UI定義.md
├── 0.2_UX定義.md
├── 0.3_機能定義.md
├── 0.4_ページ定義.md
├── 0.5_デザイン定義.md
├── 0.6_情報設計_データモデル.md
├── 0.7_アーキテクチャ_状態管理.md
├── 0.8_非機能_セキュリティ_性能.md
├── 0.9_テスト_受け入れ基準.md
└── 0.10_運用_分析_配信_法務.md
```

---

### 10.2 関連リンク

- **Plan-MD（原典）**: `plan.md`
- **Figmaデザイン**: （TBD）
- **GitHub Repository**: （TBD）
- **Notion プロジェクトページ**: （TBD）

---

### 10.3 連絡先

- **PM**: （担当者名・Slack）
- **開発リード**: （担当者名・Slack）
- **デザインリード**: （担当者名・Slack）
- **QAリード**: （担当者名・Slack）

---

## 【作成完了：クロードMD】

**Tokyo Friends iOS App 仕様書マスターインデックス（クロードMD）の作成が完了しました。**

### 成果物サマリ
- **仕様書総数**: 11ファイル（親1 + 詳細10）
- **総ページ数**: 約150ページ相当（Markdown）
- **網羅範囲**: UI / UX / 機能 / ページ / デザイン / データ / アーキテクチャ / 非機能 / テスト / 運用
- **ステータス**: 仕様確定、実装開始可

### 次のステップ
1. 全ファイルをチームレビュー
2. Figmaデザインモック作成
3. 実装タスク分解（GitHub Issues / Jira）
4. MVP開発開始

---

**最終更新**: 2025-10-20
**作成者**: Claude Code（Anthropic）
**バージョン**: v1.0（初版）
